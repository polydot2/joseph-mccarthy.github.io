<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>Internet Monitor</title>
<link rel=stylesheet href=/css/style.css>
</head>
<body>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=description content>
<meta name=author content>
<title>Joseph McCarthy</title>
<link rel=icon type=image/x-icon href=/favicon.ico>
<script src=https://use.fontawesome.com/releases/v5.15.4/js/all.js crossorigin=anonymous></script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel=stylesheet type=text/css>
<link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel=stylesheet type=text/css>
<link href=/css/style.css rel=stylesheet>
<link href=/css/syntax.css rel=stylesheet>
</head>
<body id=page-top>
<nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id=mainNav>
<div class=container>
<a class=navbar-brand href=/>Joseph McCarthy</a>
<button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type=button data-bs-toggle=collapse data-bs-target=#navbarResponsive aria-controls=navbarResponsive aria-expanded=false aria-label="Toggle navigation">
Menu
<i class="fas fa-bars"></i>
</button>
<div class="collapse navbar-collapse" id=navbarResponsive>
<ul class="navbar-nav ms-auto">
<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://joseph-mccarthy.github.io/posts/> Posts </a>
<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://joseph-mccarthy.github.io/projects/> Projects </a>
</ul>
</div>
</div>
</nav>
<header class="masthead2 text-white text-center"></header>
<div class="container pb-5">
<div class=row>
<section class="page-section portfolio">
<img class=card-img-top src=https://joseph-mccarthy.github.io/projects/internet-monitor/hero.png alt>
<h2 class="page-section-heading text-center text-uppercase text-secondary mt-5">Internet Monitor</h2>
<div class="divider-custom m-0">
<div class=divider-custom-line></div>
<div class=divider-custom-icon><i class="fas fa-star"></i></div>
<div class=divider-custom-line></div>
</div>
<div class="row mb-3">
<div class="col text-center text-nowrap">
<a class=h4 href=/tags/docker/ title=Docker><span class="badge bg-primary p-2 m-1">Docker</span></a>
<a class=h4 href=/tags/flask/ title=Flask><span class="badge bg-primary p-2 m-1">Flask</span></a>
<a class=h4 href=/tags/infrastructure/ title=Infrastructure><span class="badge bg-primary p-2 m-1">Infrastructure</span></a>
<a class=h4 href=/tags/python/ title=Python><span class="badge bg-primary p-2 m-1">Python</span></a>
<a class=h4 href=/tags/sqlalchemy/ title=SqlAlchemy><span class="badge bg-primary p-2 m-1">SqlAlchemy</span></a>
</div>
</div>
<div class="row justify-content-left">
<p>I rather like the idea of keeping my Internet Service Provider honest with the service that they claim to be providing me. They charge enough for the service and it&rsquo;s not always apprant that we&rsquo;re getting it. So I created this project for my own need. It&rsquo;s been published to <a href=https://github.com/joseph-mccarthy/internet-monitor>GitHub.</a> I&rsquo;m very pleased that I was able to finall finished something, I also have a little post in my blog about the project <a href=https://joseph-mccarthy.github.io/posts/first-completed-project/ title="Internet Monitor Done">Blog</a>.</p>
<p>I basically wanted a speed test of my internet connection to run every 30 minutes and have that information stored so I can query it later and possibly see when there are times that speeds flucate. This information would probably be useful when I start pumping data to sync storage servers.</p>
<p>I know that there are many solutions out there that can provide this information, and can create dashboards. But I didn&rsquo;t want the restrictions of having to use those front ends or dashboards. So I decided that it would be made of two parts.</p>
<p>The fist part is just a simple python script that runs every 30 minutes that calls upon the <a href=https://www.speedtest.net/apps/cli>speed test cli</a> to perform the speed test and then persist that in a sqlite database. The second component is the webservice that I can call on to get the results and other data. This again was written in python using flask.</p>
<p>The API exposes three endpoints for the data saved in the database</p>
<p> 
 </p>
<h5 id=latest>/latest</h5>
<div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
    <span style=color:#062873;font-weight:700>&#34;download&#34;</span>: <span style=color:#40a070>3296755.0</span>,
    <span style=color:#062873;font-weight:700>&#34;upload&#34;</span>: <span style=color:#40a070>2175216.0</span>,
    <span style=color:#062873;font-weight:700>&#34;ping&#34;</span>: <span style=color:#40a070>62.496</span>,
    <span style=color:#062873;font-weight:700>&#34;time&#34;</span>: <span style=color:#40a070>1645789388.759391</span>
}
</code></pre></div><p> 
 </p>
<h5 id=last-day>/last-day</h5>
<div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
    <span style=color:#062873;font-weight:700>&#34;download&#34;</span>: {
        <span style=color:#062873;font-weight:700>&#34;high&#34;</span>: <span style=color:#40a070>3852744.0</span>,
        <span style=color:#062873;font-weight:700>&#34;average&#34;</span>: <span style=color:#40a070>3629769.4166666665</span>,
        <span style=color:#062873;font-weight:700>&#34;low&#34;</span>: <span style=color:#40a070>3296755.0</span>
    },
    <span style=color:#062873;font-weight:700>&#34;upload&#34;</span>: {
        <span style=color:#062873;font-weight:700>&#34;high&#34;</span>: <span style=color:#40a070>2331189.0</span>,
        <span style=color:#062873;font-weight:700>&#34;average&#34;</span>: <span style=color:#40a070>1883408.0416666667</span>,
        <span style=color:#062873;font-weight:700>&#34;low&#34;</span>: <span style=color:#40a070>1215527.0</span>
    },
    <span style=color:#062873;font-weight:700>&#34;ping&#34;</span>: {
        <span style=color:#062873;font-weight:700>&#34;high&#34;</span>: <span style=color:#40a070>62.496</span>,
        <span style=color:#062873;font-weight:700>&#34;average&#34;</span>: <span style=color:#40a070>16.989</span>,
        <span style=color:#062873;font-weight:700>&#34;low&#34;</span>: <span style=color:#40a070>12.594</span>
    }
}
</code></pre></div><p> 
 </p>
<h5 id=graph>/graph</h5>
<div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>[
    {
        <span style=color:#062873;font-weight:700>&#34;id&#34;</span>: <span style=color:#40a070>1</span>,
        <span style=color:#062873;font-weight:700>&#34;download&#34;</span>: <span style=color:#40a070>3364494.0</span>,
        <span style=color:#062873;font-weight:700>&#34;upload&#34;</span>: <span style=color:#40a070>1085589.0</span>,
        <span style=color:#062873;font-weight:700>&#34;ping&#34;</span>: <span style=color:#40a070>15.426</span>,
        <span style=color:#062873;font-weight:700>&#34;time&#34;</span>: <span style=color:#40a070>1645710501.983828</span>
    },
    {
        <span style=color:#062873;font-weight:700>&#34;id&#34;</span>: <span style=color:#40a070>2</span>,
        <span style=color:#062873;font-weight:700>&#34;download&#34;</span>: <span style=color:#40a070>3330109.0</span>,
        <span style=color:#062873;font-weight:700>&#34;upload&#34;</span>: <span style=color:#40a070>822428.0</span>,
        <span style=color:#062873;font-weight:700>&#34;ping&#34;</span>: <span style=color:#40a070>17.148</span>,
        <span style=color:#062873;font-weight:700>&#34;time&#34;</span>: <span style=color:#40a070>1645712303.276396</span>
    },
    {
        <span style=color:#062873;font-weight:700>&#34;id&#34;</span>: <span style=color:#40a070>3</span>,
        <span style=color:#062873;font-weight:700>&#34;download&#34;</span>: <span style=color:#40a070>3316571.0</span>,
        <span style=color:#062873;font-weight:700>&#34;upload&#34;</span>: <span style=color:#40a070>1076903.0</span>,
        <span style=color:#062873;font-weight:700>&#34;ping&#34;</span>: <span style=color:#40a070>15.835</span>,
        <span style=color:#062873;font-weight:700>&#34;time&#34;</span>: <span style=color:#40a070>1645714140.544144</span>
    },
    {
        <span style=color:#062873;font-weight:700>&#34;id&#34;</span>: <span style=color:#40a070>4</span>,
        <span style=color:#062873;font-weight:700>&#34;download&#34;</span>: <span style=color:#40a070>3261149.0</span>,
        <span style=color:#062873;font-weight:700>&#34;upload&#34;</span>: <span style=color:#40a070>1134400.0</span>,
        <span style=color:#062873;font-weight:700>&#34;ping&#34;</span>: <span style=color:#40a070>15.76</span>,
        <span style=color:#062873;font-weight:700>&#34;time&#34;</span>: <span style=color:#40a070>1645715986.757451</span>
    }
]
</code></pre></div><p> 
 </p>
<h3 id=docker>Docker</h3>
<p>There is also a provided Docker image that runs both the speed test and the api with an exposed port of <strong>5000</strong></p>
<div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>docker pull joemccarthy/internet-monitor:latest
docker run -d -p 5000:5000 joemccarthy/internet-monitor:latest
</code></pre></div><p> 
 </p>
<h3 id=technologies>Technologies</h3>
<ul>
<li>Python</li>
<li>Flask</li>
<li>SqlAlchemy</li>
<li>Docker</li>
<li><a href=https://www.speedtest.net/apps/cli>Speedtest.net CLI</a></li>
</ul>
<div class="row mt-5 mb-3">
<div class="col-6 text-left">
<a class="btn btn-primary btn-lg col-12" href=https://joseph-mccarthy.github.io/projects/hugo-freelance/><span class=h1>&#8592;</span></a>
</div>
<div class="col-6 text-right">
<a class="btn btn-light disabled btn-lg col-12" href=#><span class=h1>&#8594;</span></a>
</div>
</div>
</div> </section>
</div>
</div>
<footer class="footer text-center">
<div class=container>
<div class=row>
<div class="col-lg-4 mb-5 mb-lg-0">
<h4 class="text-uppercase mb-4">Location</h4>
<p class="lead mb-0">
Harlow, Essex
<br>
United Kingdom
</p>
</div>
<div class="col-lg-4 mb-5 mb-lg-0">
<h4 class="text-uppercase mb-4">Around the Web</h4>
<a class="btn btn-outline-light btn-social mx-1" href=https://github.com/joseph-mccarthy target=_blank><i class="fab fa-fw fa-github"></i></a>
</div>
<div class=col-lg-4>
<h4 class="text-uppercase mb-4">About Freelancer</h4>
<p class="lead mb-0">
Freelance is a free to use, MIT licensed Bootstrap theme created by
<a href=http://startbootstrap.com>Start Bootstrap</a>
.
</p>
</div>
</div>
</div>
</footer>
<div class="copyright py-4 text-center text-white">
<div class=container><small>Copyright &copy; Joseph McCarthy 2022</small></div>
</div>
<script src=https://cdn.startbootstrap.com/sb-forms-latest.js></script>
</body>
}
<div class="portfolio-modal modal fade" id=modal1 tabindex=-1 aria-labelledby=modal1 aria-hidden=true>
<div class="modal-dialog modal-xl">
<div class=modal-content>
<div class="modal-header border-0"><button class=btn-close type=button data-bs-dismiss=modal aria-label=Close></button></div>
<div class="modal-body text-center pb-5">
<div class=container>
<div class="row justify-content-center">
<div class=col-lg-8>
<h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Hugo Freelance</h2>
<div class=divider-custom>
<div class=divider-custom-line></div>
<div class=divider-custom-icon><i class="fas fa-star"></i></div>
<div class=divider-custom-line></div>
</div>
<img class="img-fluid rounded mb-5" src=/projects/hugo-freelance/hero.png alt=...>
<p class=mb-4>I wanted to use Hugo and I wanted Bootstrap Freelance. So here it is.</p>
<a href=/projects/hugo-freelance/ class="btn btn-primary btn-lg col-12">Read More</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="portfolio-modal modal fade" id=modal2 tabindex=-1 aria-labelledby=modal2 aria-hidden=true>
<div class="modal-dialog modal-xl">
<div class=modal-content>
<div class="modal-header border-0"><button class=btn-close type=button data-bs-dismiss=modal aria-label=Close></button></div>
<div class="modal-body text-center pb-5">
<div class=container>
<div class="row justify-content-center">
<div class=col-lg-8>
<h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Internet Monitor</h2>
<div class=divider-custom>
<div class=divider-custom-line></div>
<div class=divider-custom-icon><i class="fas fa-star"></i></div>
<div class=divider-custom-line></div>
</div>
<img class="img-fluid rounded mb-5" src=/projects/internet-monitor/hero.png alt=...>
<p class=mb-4>Small and simple application to keep my ISP honest.</p>
<a href=/projects/internet-monitor/ class="btn btn-primary btn-lg col-12">Read More</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</html>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js></script>
<script src=/js/scripts.js></script>
</body>
</html>
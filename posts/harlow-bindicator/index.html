<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>Harlow Bindicator</title>
<link rel=stylesheet href=/css/style.css>
</head>
<body>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=description content>
<meta name=author content>
<title>Joe McCarthy</title>
<link rel=icon type=image/x-icon href=/favicon.ico>
<script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/js/all.min.js integrity="sha512-naukR7I+Nk6gp7p5TMA4ycgfxaZBJ7MO5iC3Fp6ySQyKFHOGfpkSZkYVWV5R7u7cfAicxanwYQ5D1e17EfJcMA==" crossorigin=anonymous referrerpolicy=no-referrer></script> <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel=stylesheet type=text/css>
<link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel=stylesheet type=text/css>
<link href=/css/style.css rel=stylesheet>
<link href=/css/syntax.css rel=stylesheet>
</head>
<body id=page-top>
<nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id=mainNav>
<div class=container>
<a class=navbar-brand href=/>Joe McCarthy</a>
<button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type=button data-bs-toggle=collapse data-bs-target=#navbarResponsive aria-controls=navbarResponsive aria-expanded=false aria-label="Toggle navigation">
Menu
<em class="fas fa-bars"></em>
</button>
<div class="collapse navbar-collapse" id=navbarResponsive>
<ul class="navbar-nav ms-auto">
<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://joseph-mccarthy.github.io/devlogs/> Devlogs </a>
<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://joseph-mccarthy.github.io/posts/> Posts </a>
<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href=https://joseph-mccarthy.github.io/projects/> Projects </a>
</ul>
</div>
</div>
</nav>
<header class="masthead2 text-white text-center"></header>
<div class="container pb-5">
<div class=row>
<section class="page-section portfolio col-12 col-lg-10">
<img class=card-img-top src=https://joseph-mccarthy.github.io/posts/harlow-bindicator/hero.png alt>
<h2 class="page-section-heading text-center text-uppercase text-secondary mt-5">Harlow Bindicator</h2>
<div class="divider-custom m-0">
<div class=divider-custom-line></div>
<div class=divider-custom-icon><em class="fas fa-star"></em></div>
<div class=divider-custom-line></div>
</div>
<div class="row mb-3">
<div class="col text-center text-nowrap">
<a class=h4 href=/tags/project/ title=Project><span class="badge bg-primary p-2 m-1">Project</span></a>
<a class=h4 href=/tags/python/ title=Python><span class="badge bg-primary p-2 m-1">Python</span></a>
<a class=h4 href=/tags/raspberry-pi/ title="Raspberry Pi"><span class="badge bg-primary p-2 m-1">Raspberry Pi</span></a>
</div>
</div>
<div class="row justify-content-left">
<p>A simple Raspberry Pi project that checks the <a href=https://www.harlow.gov.uk/><strong>Harlow Council</strong></a> website for the bin collection day and bin type of a given property. If the current day is bin day then light up the correct LED for the given bin type.</p>
<h2 id=problem>Problem</h2>
<p>I&rsquo;m always forgetting when bin day is, and when bin day comes it&rsquo;s always a panic to get the bin out. This also includes looking out the window to see what bin the neighbours have put out to make sure that I put the same one out. So I looked for a solution and came across <a href=https://twitter.com/tarbard/status/1002464120447397888><strong>this</strong></a> by <a href=https://twitter.com/tarbard><strong>Darren Tar</strong></a>, it&rsquo;s awesome.</p>
<p>However, I don&rsquo;t live in Glasgow, so I checked to see if Harlow had a nice API, and my luck kicked in, no they didn&rsquo;t.</p>
<h3 id=harlow-council>Harlow Council</h3>
<p>They had some horrific embedded thing. Their implementation took firstly a postcode, done a lookup, then asked for a door number and street. This then rendered another webpage with embedded js to gather the results. However I noticed that there was a since parameter on the final rendered page a <a href=https://www.geoplace.co.uk/addresses-streets/location-data/the-uprn><strong>UPRN</strong></a>. To Google! Turns out this identifies a single property.</p>
<h2 id=hardware>Hardware</h2>
<p>Below is a simplified wiring diagram for the LED&rsquo;s and resistors to have light output from the Harlow Bindicator. The Ground is connected to the Raspberry Pi <strong>3.3</strong> Volt Ground. While the activity LED is connected to Pin <strong>26</strong>. The Bin Day LED is connected to Pin <strong>2</strong>. The Recycling Bin LED is connected to Pin <strong>3</strong> and the Landfill Bin LED is connected to Pin <strong>4</strong>. If you don&rsquo;t want to have a flashing LED to indicate that the script is running, then just don&rsquo;t wire in the Activity LED.</p>
<p><img src=pinout.png alt="Image alt text"></p>
<p><em>note: The food waste caddy has not been wired in as every week this is collected regardless of the wheelie bin being collected.</em></p>
<h2 id=required-binaries>Required Binaries</h2>
<p>Before running this script on a Raspberry Pi, there are a few steps to complete. Firstly you&rsquo;ll need to install a chromium browser as well as a chrome web driver for selium to use.</p>
<p>On the Raspberry Pi terminal run the following:</p>
<script src="https://gist.github.com/joseph-mccarthy/5848fa31ae07b22277201ea3a0defe52.js?file=install-chromium.sh"></script>
<p>Running the above will update the distribution lists, then install the chromium browser and then the correct chrome driver. To ensure that the above steps have completed enter the following and check that both <strong>chromediver</strong> and <strong>chromium_browser</strong> are present.</p>
<script src="https://gist.github.com/joseph-mccarthy/5848fa31ae07b22277201ea3a0defe52.js?file=check-chromium.sh"></script>
<h2 id=setting-up-harlow-bindicator>Setting Up Harlow Bindicator</h2>
<p>Firstly clone down the repository to the desired location on your Raspberry Pi.</p>
<script src="https://gist.github.com/joseph-mccarthy/5848fa31ae07b22277201ea3a0defe52.js?file=clone-bindicator.sh"></script>
<p>Create a Python virtual environment for the script to run within. Then activate the environment and install the required packages for the Harlow Bindicator Script.</p>
<script src="https://gist.github.com/joseph-mccarthy/5848fa31ae07b22277201ea3a0defe52.js?file=python-venv.sh"></script>
<h2 id=running-harlow-bindicator>Running Harlow Bindicator</h2>
<p>The Raspberry Pi is now configured and ready to start running the Harlow Bindicator and making your bin day easier. There is just one final parameter that&rsquo;s needed for the script which is personal to you. This is the <strong>UPRN</strong> (<em>Unique Property Reference Number</em>), this is needed for the script in order to work out when bin day is for an address. If this makes you feel uncomfortable, feel free to put in the the UPRN for someone at least in your street.</p>
<h3 id=finding-your-uprn>Finding your UPRN</h3>
<p>In order to find the UPRN for your property there is a rather helpful website <a href=https://www.findmyaddress.co.uk/search><strong>findmyaddress.co.uk</strong></a> which I used to find mine based on street name and door number. Once you have got the UPRN make a note of it and keep it to one side.</p>
<h3 id=starting-harlow-bindicator>Starting Harlow Bindicator</h3>
<p>You&rsquo;re now ready to run the Harlow Bindicator Script, by entering the following command.</p>
<script src="https://gist.github.com/joseph-mccarthy/5848fa31ae07b22277201ea3a0defe52.js?file=run-bindicator.sh"></script>
<p>You should now start seeing output from the script to confirm that it&rsquo;s active. If you also followed the hardware guide, the activity light should also be flashing.</p>
<div class="row mt-5 mb-3">
<div class="col-6 text-left">
<a class="btn btn-primary btn-lg col-12" href=https://joseph-mccarthy.github.io/posts/free-lancer-in-themes-library/><span class=h1>&#8592;</span></a>
</div>
<div class="col-6 text-right">
<a class="btn btn-primary btn-lg col-12" href=https://joseph-mccarthy.github.io/posts/new-project-light-meter-py/><span class=h1>&#8594;</span></a>
</div>
</div>
</div> </section>
<section class="page-section portfolio col-12 col-lg-2 my-3">
<div id=sidebar class=fixed>
<div class="widget pt-3">
<h4 class="mb-3 widget-title">Latest Posts</h4>
<ul class=list-unstyled>
<li class="d-flex my-1">
<a href=https://joseph-mccarthy.github.io/posts/python-simple-mqtt/>
<h5>Python Simple MQTT</h5>
</a>
</li>
<li class="d-flex my-1">
<a href=https://joseph-mccarthy.github.io/posts/free-lancer-in-themes-library/>
<h5>Free Lancer in Themes Library</h5>
</a>
</li>
<li class="d-flex my-1">
<a href=https://joseph-mccarthy.github.io/posts/new-project-light-meter-py/>
<h5>New Project Light Meter Py</h5>
</a>
</li>
</ul>
</div>
<div class="widget pt-3">
<h4 class="mb-3 widget-title">Related Posts</h4>
<ul class=list-unstyled>
<li class="d-flex my-1">
<a href=https://joseph-mccarthy.github.io/posts/night-sky-pi-first-timelapse/>
<h5>Night Sky Pi First Timelapse</h5>
</a>
</li>
<li class="d-flex my-1">
<a href=https://joseph-mccarthy.github.io/devlogs/night-sky-pi/>
<h5>Night Sky Pi Devlog</h5>
</a>
</li>
<li class="d-flex my-1">
<a href=https://joseph-mccarthy.github.io/posts/new-project-light-meter-py/>
<h5>New Project Light Meter Py</h5>
</a>
</li>
</ul>
</div>
</div>
</section>
</div>
</div>
<footer class="footer text-center">
<div class=container>
<div class=row>
<div class="col-lg-4 mb-5 mb-lg-0">
<h4 class="text-uppercase mb-4">Location</h4>
<p class="lead mb-0">
Harlow, Essex
<br>
United Kingdom
</p>
</div>
<div class="col-lg-4 mb-5 mb-lg-0">
<h4 class="text-uppercase mb-4">Around the Web</h4>
<a class="btn btn-outline-light btn-social mx-1" href=https://github.com/joseph-mccarthy target=_blank><em class="fab fa-fw fa-github"></em></a>
</div>
<div class=col-lg-4>
<h4 class="text-uppercase mb-4">About Freelancer</h4>
<p class="lead mb-0">
Freelance is a free to use, MIT licensed Bootstrap theme created by
<a href=http://startbootstrap.com>Start Bootstrap</a>
</p>
</div>
</div>
</div>
</footer>
<div class="copyright py-4 text-center text-white">
<div class=container><small>Copyright &copy; Joe McCarthy 2022</small></div>
</div>
<script src=https://cdn.startbootstrap.com/sb-forms-latest.js></script>
</body>
<div class="portfolio-modal modal fade" id=modal1 tabindex=-1 aria-labelledby=modal1 aria-hidden=true>
<div class="modal-dialog modal-xl">
<div class=modal-content>
<div class="modal-header border-0"><button class=btn-close type=button data-bs-dismiss=modal aria-label=Close></button></div>
<div class="modal-body text-center pb-5">
<div class=container>
<div class="row justify-content-center">
<div class=col-lg-8>
<h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Hugo Freelance</h2>
<div class=divider-custom>
<div class=divider-custom-line></div>
<div class=divider-custom-icon><em class="fas fa-star"></em></div>
<div class=divider-custom-line></div>
</div>
<img class="img-fluid rounded mb-5" src=/projects/hugo-freelance/hero.png alt=...>
<p class=mb-4>I wanted to use Hugo and I wanted Bootstrap Freelance. So here it is.</p>
<a href=https://joseph-mccarthy.github.io/projects/hugo-freelance/ class="btn btn-primary btn-lg col-12">Read More</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="portfolio-modal modal fade" id=modal2 tabindex=-1 aria-labelledby=modal2 aria-hidden=true>
<div class="modal-dialog modal-xl">
<div class=modal-content>
<div class="modal-header border-0"><button class=btn-close type=button data-bs-dismiss=modal aria-label=Close></button></div>
<div class="modal-body text-center pb-5">
<div class=container>
<div class="row justify-content-center">
<div class=col-lg-8>
<h2 class="portfolio-modal-title text-secondary text-uppercase mb-0">Internet Monitor</h2>
<div class=divider-custom>
<div class=divider-custom-line></div>
<div class=divider-custom-icon><em class="fas fa-star"></em></div>
<div class=divider-custom-line></div>
</div>
<img class="img-fluid rounded mb-5" src=/projects/internet-monitor/hero.png alt=...>
<p class=mb-4>Small and simple application to keep my ISP honest.</p>
<a href=https://joseph-mccarthy.github.io/projects/internet-monitor/ class="btn btn-primary btn-lg col-12">Read More</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</html>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js integrity=sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa crossorigin=anonymous></script>
<script src=/js/scripts.js></script>
</body>
</html>